setwd("D:/Informatica/TFM/KBMR-dev/Rafa")
setwd("..")
rm(list=ls(all=TRUE))
library( gmp) # bigz
#library( gat)
library( lattice)
library( foreach)
library( cluster)
library(MASS)
library(parallel)
#### module ####
setwd("./defs")
source("kbmr-definition.R")
setwd("..")
#### module ####
setwd("./tabs")
source("kbmr-inout.R")
#source("kbmr-spectrum.R")
setwd("..")
#### module ####
setwd("./optalg")
source("kbmr-optimization.R")
setwd("..")
#### module ####
setwd("./query")
#source("kbmr-queries.R")
#source("kbmr-explanation.R")
setwd("..")
#### module RAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA ####
setwd("./Rafa")
source("custom.base.R")
source("vector.swap.R")
source("combinaciones.base.R")
source("getBestSwap.R")
source("vns.rafa.R")
source("getBestSwap2.R")
source("vns2.rafa.R")
source("vnsPar.rafa.R")
source("mclapply.hack.R")
source("getBestSParallelMC.R")
source("getSwitches.R")
source("switch.kbm.R")
source("vns.switch.R")
source("multiSwitch.R")
setwd("..")
### models, kbmr.demo()
setwd("./models")
cat("Models source reading:\n")
cat("Models source OK.\n")
setwd("..")
inst.kbm <- random.kbm( rl=c("D1","D2"), rcl=c(2,2), al=c("A1","A2","A3","A4","A5","A6","A7"), acl=c(2,2,2,2,2,2,2), n=8)
print(inst.kbm, MODE="O")
y<-random.base(inst.kbm)
#prueba<-swap.base.kbm(inst.kbm,y)
a<-swap.base.kbm(x = inst.kbm, new.x = y)
#prueba<-custom.base(inst.kbm,y@base+1)
print(a, MODE="O")
system.time({
sol<-vns.rafa(a)
})
print(sol, MODE="O")
system.time({
simulado<-simulated_annealing(a,50)
})
#### module RAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA ####
setwd("./Rafa")
source("simulated_annealing.R")
system.time({
simulado<-simulated_annealing(a,50)
})
print(simulado, MODE="O")
system.time({
simulado<-vns2.rafa(a)
})
print(simulado, MODE="O")
system.time({
sol<-vns.switch(a)
})
print(sol, MODE="O")
################# prueba aneealingggggg
inst.kbm <- random.kbm( rl=c("D1","D2"), rcl=c(2,2), al=c("A1","A2","A3","A4","A5","A6","A7"), acl=c(2,2,2,2,2,2,2), n=8)
print(inst.kbm, MODE="O")
y<-random.base(inst.kbm)
#prueba<-swap.base.kbm(inst.kbm,y)
a<-swap.base.kbm(x = inst.kbm, new.x = y)
#prueba<-custom.base(inst.kbm,y@base+1)
print(a, MODE="O")
system.time({
sol<-vns.rafa(a)
})
print(sol, MODE="O")
system.time({
simulado<-simulated_annealing(a,50)
})
print(simulado, MODE="O")
system.time({
simulado<-vns2.rafa(a)
})
print(simulado, MODE="O")
system.time({
sol<-vns.switch(a)
})
print(sol, MODE="O")
inst.kbm <- random.kbm( rl=c("D1","D2"), rcl=c(2,2), al=c("A1","A2","A3","A4","A5","A6","A7"), acl=c(2,2,2,2,2,2,2), n=8)
print(inst.kbm, MODE="O")
y<-random.base(inst.kbm)
#prueba<-swap.base.kbm(inst.kbm,y)
a<-swap.base.kbm(x = inst.kbm, new.x = y)
#prueba<-custom.base(inst.kbm,y@base+1)
print(a, MODE="O")
y<-random.base(inst.kbm)
#prueba<-swap.base.kbm(inst.kbm,y)
a<-swap.base.kbm(x = inst.kbm, new.x = y)
#prueba<-custom.base(inst.kbm,y@base+1)
print(a, MODE="O")
system.time({
sol<-vns.rafa(a)
})
print(sol, MODE="O")
system.time({
simulado<-simulated_annealing(a,50)
})
print(simulado, MODE="O")
system.time({
simulado<-vns2.rafa(a)
})
print(simulado, MODE="O")
system.time({
sol<-vns.switch(a)
})
print(sol, MODE="O")
system.time({
sol<-vns.switch(a)
})
print(sol, MODE="O")
inst.kbm <- random.kbm( rl=c("D1","D2"), rcl=c(2,2), al=c("A1","A2","A3","A4","A5","A6","A7"), acl=c(2,2,2,2,2,2,2), n=8)
print(inst.kbm, MODE="O")
y<-random.base(inst.kbm)
#prueba<-swap.base.kbm(inst.kbm,y)
a<-swap.base.kbm(x = inst.kbm, new.x = y)
#prueba<-custom.base(inst.kbm,y@base+1)
print(a, MODE="O")
y<-random.base(inst.kbm)
#prueba<-swap.base.kbm(inst.kbm,y)
a<-swap.base.kbm(x = inst.kbm, new.x = y)
#prueba<-custom.base(inst.kbm,y@base+1)
print(a, MODE="O")
system.time({
swap.base.kbm(x = inst.kbm, new.x = y)
})
#prueba<-custom.base(inst.kbm,y@base+1)
print(a, MODE="O")
system.time({
sol<-vns.rafa(a)
})
print(sol, MODE="O")
system.time({
simulado<-simulated_annealing(a,50)
})
print(simulado, MODE="O")
system.time({
simulado<-vns2.rafa(a)
})
print(simulado, MODE="O")
system.time({
sol<-vns.switch(a)
})
print(sol, MODE="O")
